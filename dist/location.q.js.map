{"version":3,"sources":["../src/location.q.js"],"sourcesContent":["/*\r\n * q is for Query String v1.0\r\n *\r\n * Kopimi (c) 2021 Joshua Faulkenberry\r\n * Unlicensed under The Unlicense\r\n * http://unlicense.org/\r\n */\r\n\r\nwindow.location.q = document.location.q = function(key, val, push = true) {\r\n   var updated = false;\r\n   if(key === null) updated = \"\";\r\n   else {\r\n      if(!key && !this.search) return null;\r\n\r\n      const set = v => {\r\n         if(v.length == 1) return true;\r\n         else if(parseFloat(v[1]) == v[1]) return parseFloat(v[1]);\r\n         else return decodeURIComponent(v[1]);\r\n      };\r\n\r\n      var\r\n         qOut  = {},\r\n         lst = decodeURI(this.search).substring(1) ? decodeURI(this.search).substring(1).split(\"&\").map(d => d.split(\"=\")) : [];\r\n\r\n      for(var x = 0; x < lst.length; x++) {\r\n         if(lst[x][0].indexOf(\"[\") >= 0) {\r\n            var ar = lst[x][0].replace(/\\]/g, \"\").split(\"[\");\r\n            if(!qOut[ar[0]]) qOut[ar[0]] = ar[1] ? {} : [];\r\n            if(ar[1]) qOut[ar[0]][ar[1]] = set(lst[x]);\r\n            else qOut[ar[0]][qOut[ar[0]].length] = set(lst[x]);\r\n         }\r\n         else qOut[lst[x][0]] = set(lst[x]);\r\n      }\r\n\r\n      if(typeof key == \"string\" && typeof val === \"undefined\") return qOut[key];\r\n      else if(!key) return qOut;\r\n      else {\r\n         const process = obj => {\r\n            var out = [];\r\n            for(let par in obj) {\r\n               if(!par) continue;\r\n               if(obj[par] instanceof Array) for(let x in obj[par]) out.push([par + \"[]\", encodeURIComponent(obj[par][x])]);\r\n               else if(obj[par] instanceof Object) for(let x in obj[par]) out.push([par + `[${x}]`, encodeURIComponent(obj[par][x])]);\r\n               else if(obj[par] === true) out.push([par]);\r\n               else if(obj[par] !== false) out.push([par, encodeURIComponent(obj[par])]);\r\n            }\r\n\r\n            return out;\r\n         };\r\n\r\n         if(typeof(key) == \"function\") key = key(qOut);\r\n\r\n         if(key instanceof Array) updated = key;\r\n         else if(key instanceof Object) updated = process(key);\r\n         else {\r\n            qOut[key] = val;\r\n            updated = process(qOut);\r\n         }\r\n      }\r\n   }\r\n\r\n   if(updated !== false) {\r\n      if(updated instanceof Array && updated.length) updated = \"?\" + updated.map(d => d.join(\"=\")).join(\"&\");\r\n\r\n      var newurl = `${window.location.protocol}//${window.location.host}${window.location.pathname}${updated}`;\r\n\r\n      if(push && history.pushState) window.history.pushState({\r\n         path : newurl\r\n      }, '' , newurl);\r\n      else location.href = newurl;\r\n\r\n      return this;\r\n   }\r\n}\r\n"],"names":["window","location","q","document","key","val","push","updated","search","set","v","length","parseFloat","decodeURIComponent","qOut","lst","decodeURI","substring","split","map","d","x","indexOf","ar","replace","process","obj","out","par","Array","encodeURIComponent","Object","join","newurl","protocol","host","pathname","history","pushState","path","href"],"mappings":"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"}